apiVersion: 1

datasources:
  - name: Loki
    type: loki
    url: http://loki:3100
    isDefault: false
    editable: false
    jsonData:
      maxLines: 1000
      derivedFields:
        - name: "TraceID"
          matcherRegex: '"trace_id":"(\\w+)"'
          url: "$${__value.raw}"
          datasourceUid: "tempo"
          urlDisplayLabel: "Trace details"
    healthCheck:
      enable: true
      intervalSeconds: 60
